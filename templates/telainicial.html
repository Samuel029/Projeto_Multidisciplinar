<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechNoBug - Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/telainicial.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/footer.css') }}">
    <style>
        .comment-card {
            border-left: 2px solid #007bff;
            padding-left: 10px;
            margin-bottom: 10px;
        }
        .reply-card {
            border-left: 2px solid #6c757d;
            padding-left: 10px;
            margin-bottom: 5px;
        }
        .comment-form, .reply-form {
            margin-top: 10px;
        }
        .comment-form textarea, .reply-form textarea {
            height: 100px; /* Tamanho fixo */
            border-radius: 8px; /* Bordas arredondadas */
            border: 1px solid #ced4da; /* Borda padr√£o do Bootstrap */
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Sombra suave */
            transition: all 0.3s ease; /* Transi√ß√£o suave para foco */
            font-family: 'Inter', sans-serif; /* Mesma fonte do projeto */
            font-size: 0.95rem; /* Tamanho de fonte consistente */
            padding: 10px; /* Espa√ßamento interno */
            resize: none; /* Impede redimensionamento */
        }
        .comment-form textarea:focus, .reply-form textarea:focus {
            border-color: #007bff; /* Cor de foco do Bootstrap */
            box-shadow: 0 0 8px rgba(0, 123, 255, 0.3); /* Sombra ao focar */
            outline: none; /* Remove o contorno padr√£o */
        }
        .like-btn-comment {
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="header-content">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Pesquisar postagens, t√≥picos...">
            </div>
            <div class="logo" onclick="window.location.href = '{{ url_for('telainicial') }}';" style="cursor: pointer;">
                <i class="fas fa-graduation-cap"></i>
                <span>TechNoBug</span>
            </div>
            <button class="btn menu-btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasMenu" aria-controls="offcanvasMenu">
                <i class="fas fa-bars"></i>
                <span>Menu</span>
            </button>
        </div>
    </header>

    <!-- Offcanvas Menu -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasMenu" aria-labelledby="offcanvasMenuLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasMenuLabel">Menu</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="user-profile mb-4">
                <div class="d-flex align-items-center">
                    <div class="avatar me-3">
                        {% if user.profile_pic and user.profile_pic != 'default.png' %}
                            <img src="{{ url_for('static', filename='Uploads/' + user.profile_pic) }}" alt="Foto de perfil" class="profile-pic-img rounded-circle" style="width:48px;height:48px;object-fit:cover;">
                        {% else %}
                            <div class="avatar-initials bg-primary text-white rounded-circle d-flex justify-content-center align-items-center" style="width:48px;height:48px;font-size:1.7em;">
                                {{ user.username[0]|upper }}
                            </div>
                        {% endif %}
                    </div>
                    <div>
                        <h6 class="mb-0">{{ user.username }}</h6>
                        <small class="text-muted">{{ user.email }}</small>
                    </div>
                </div>
            </div>
            <ul class="navbar-nav">
                <li class="nav-item mb-2"><a class="nav-link active" href="{{ url_for('telainicial') }}"><i class="fas fa-home me-2"></i>Tela Inicial</a></li>
                <li class="nav-item mb-2"><a class="nav-link" href="{{ url_for('materiais') }}"><i class="fas fa-book me-2"></i>Materiais de Estudo</a></li>
                <li class="nav-item mb-2"><a class="nav-link" href="{{ url_for('pdfs') }}"><i class="fas fa-file-pdf me-2"></i>PDFs e Apostilas</a></li>
                <li class="nav-item mb-2"><a class="nav-link" href="{{ url_for('videos') }}"><i class="fas fa-video me-2"></i>V√≠deos e Tutoriais</a></li>
                <li class="nav-item mb-2"><a class="nav-link" href="{{ url_for('codigo') }}"><i class="fas fa-code me-2"></i>Exemplos de C√≥digo</a></li>
                <li class="nav-item mb-2"><a class="nav-link" href="{{ url_for('comunidade') }}"><i class="fas fa-users me-2"></i>Comunidade</a></li>
                <li class="nav-item mb-2"><a class="nav-link" href="{{ url_for('configuracoes') }}"><i class="fas fa-cog me-2"></i>Configura√ß√µes</a></li>
                <li class="nav-item"><a class="nav-link text-danger" href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt me-2"></i>Sair</a></li>
            </ul>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <main class="main-content">
            <!-- Welcome Section -->
            <section class="dashboard-section">
                <div class="row">
                    <div class="col-md-8">
                        <div class="dashboard-card">
                            <h2 class="mb-4">Bem-vindo de volta, {{ user.username }}! üëã</h2>
                            <p class="mb-4">O que voc√™ gostaria de aprender hoje? Aqui est√£o seus recursos personalizados com base em suas atividades recentes.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="dashboard-card stats-card">
                            <div class="stats-number" id="resources-count">0</div>
                            <div class="stats-label">Recursos estudados</div>
                            <div class="progress-container">
                                <div class="progress-label">
                                    <span>Seu progresso</span>
                                    <span>65%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-bar-fill"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Actions -->
            <section class="dashboard-section">
                <h3 class="section-title mb-4">
                    <i class="fas fa-bolt"></i>
                    <span>A√ß√µes R√°pidas</span>
                </h3>
                <div class="row">
                    <div class="col-md-3 col-sm-6 mb-3">
                        <a href="{{ url_for('create_post_form') }}" class="dashboard-card quick-action-card text-center text-decoration-none">
                            <i class="fas fa-pen fa-2x mb-3"></i>
                            <h4>Criar Postagem</h4>
                            <p class="small text-muted">Compartilhe sua d√∫vida com a comunidade</p>
                        </a>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <a href="{{ url_for('materiais') }}" class="dashboard-card quick-action-card text-center text-decoration-none">
                            <i class="fas fa-book fa-2x mb-3"></i>
                            <h4>Materiais</h4>
                            <p class="small text-muted">Acesse materiais de estudo</p>
                        </a>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <a href="{{ url_for('videos') }}" class="dashboard-card quick-action-card text-center text-decoration-none">
                            <i class="fas fa-video fa-2x mb-3"></i>
                            <h4>Tutoriais</h4>
                            <p class="small text-muted">Assista v√≠deos explicativos</p>
                        </a>
                    </div>
                    <div class="col-md-3 col-sm-6 mb-3">
                        <a href="{{ url_for('codigo') }}" class="dashboard-card quick-action-card text-center text-decoration-none">
                            <i class="fas fa-code fa-2x mb-3"></i>
                            <h4>C√≥digos</h4>
                            <p class="small text-muted">Explore exemplos pr√°ticos</p>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Recent Posts and Community Activity -->
            <section class="dashboard-section">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-comments"></i> Atividade Recente</h3>
                                <a href="{{ url_for('comunidade') }}" class="see-all-link">Ver tudo</a>
                            </div>
                            <div class="post-list">
                                {% if posts %}
                                    {% for post in posts %}
                                        <div class="post-card" data-post-id="{{ post.id }}" data-category="{{ post.category }}">
                                            <div class="post-header">
                                                <div class="user-info">
                                                    <div class="profile-pic-preview">
                                                        {% if post.author.profile_pic and post.author.profile_pic != 'default.png' %}
                                                            <img class="profile-pic-img" src="{{ url_for('static', filename='Uploads/' + post.author.profile_pic) }}" alt="Foto de perfil" />
                                                        {% else %}
                                                            <div class="profile-pic-avatar">
                                                                {{ post.author.username[0]|upper }}
                                                            </div>
                                                        {% endif %}
                                                    </div>
                                                    <div>
                                                        <h5 class="username">{{ post.author.username }}</h5>
                                                        <small class="text-muted">{{ post.created_at|format_brt }}</small>
                                                    </div>
                                                </div>
                                                {% if post.user_id == user.id %}
                                                    <div class="post-actions">
                                                        <button class="btn btn-sm btn-danger delete-post" data-post-id="{{ post.id }}">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                {% endif %}
                                            </div>
                                            <div class="post-content">
                                                <div class="post-category-tag">{{ post.category }}</div>
                                                <p>{{ post.content }}</p>
                                            </div>
                                            <div class="post-footer">
                                                <button class="btn btn-sm btn-outline-primary like-btn" data-post-id="{{ post.id }}">
                                                    <i class="fas fa-thumbs-up"></i> <span class="like-count">{{ post.likes|length }}</span>
                                                </button>
                                                <a href="{{ url_for('post_comments', post_id=post.id) }}" class="btn btn-sm btn-outline-secondary comment-btn">
                                                    <i class="fas fa-comment"></i> Comentar ({{ post.comments|length }})
                                                </a>
                                            </div>
                                            <!-- Exibi√ß√£o de Coment√°rios -->
                                            <div class="comments-section mt-3">
                                                <h6>Coment√°rios</h6>
                                                {% if post.comments %}
                                                    {% for comment in post.comments %}
                                                        <div class="comment-card ms-3 mb-2" data-comment-id="{{ comment.id }}">
                                                            <div class="d-flex">
                                                                <div class="profile-pic-preview me-2">
                                                                    {% if comment.author.profile_pic and comment.author.profile_pic != 'default.png' %}
                                                                        <img class="profile-pic-img" src="{{ url_for('static', filename='Uploads/' + comment.author.profile_pic) }}" alt="Foto de perfil" style="width:32px;height:32px;" />
                                                                    {% else %}
                                                                        <div class="profile-pic-avatar" style="width:32px;height:32px;">
                                                                            {{ comment.author.username[0]|upper }}
                                                                        </div>
                                                                    {% endif %}
                                                                </div>
                                                                <div class="flex-grow-1">
                                                                    <strong>{{ comment.author.username }}</strong>
                                                                    <small class="text-muted">{{ comment.created_at|format_brt }}</small>
                                                                    <p class="mb-1">{{ comment.content }}</p>
                                                                    <div class="comment-actions">
                                                                        <button class="btn btn-sm btn-outline-primary like-btn-comment" data-comment-id="{{ comment.id }}">
                                                                            <i class="fas fa-thumbs-up"></i> <span class="like-count">{{ comment.likes|length }}</span>
                                                                        </button>
                                                                        {% if comment.user_id == user.id %}
                                                                            <button class="btn btn-sm btn-outline-secondary edit-comment-btn" data-comment-id="{{ comment.id }}">Editar</button>
                                                                            <button class="btn btn-sm btn-outline-danger delete-comment-btn" data-comment-id="{{ comment.id }}">Excluir</button>
                                                                        {% endif %}
                                                                    </div>
                                                                    {% if comment.replies %}
                                                                        {% for reply in comment.replies %}
                                                                            <div class="reply-card ms-4 mb-1" data-reply-id="{{ reply.id }}">
                                                                                <div class="d-flex">
                                                                                    <div class="profile-pic-preview me-2">
                                                                                        {% if reply.author.profile_pic and reply.author.profile_pic != 'default.png' %}
                                                                                            <img class="profile-pic-img" src="{{ url_for('static', filename='Uploads/' + reply.author.profile_pic) }}" alt="Foto de perfil" style="width:24px;height:24px;" />
                                                                                        {% else %}
                                                                                            <div class="profile-pic-avatar" style="width:24px;height:24px;">
                                                                                                {{ reply.author.username[0]|upper }}
                                                                                            </div>
                                                                                        {% endif %}
                                                                                    </div>
                                                                                    <div class="flex-grow-1">
                                                                                        <strong>{{ reply.author.username }}</strong>
                                                                                        <small class="text-muted">{{ reply.created_at|format_brt }}</small>
                                                                                        <p class="mb-1">{{ reply.content }}</p>
                                                                                        {% if reply.user_id == user.id %}
                                                                                            <div class="reply-actions">
                                                                                                <button class="btn btn-sm btn-outline-secondary edit-reply-btn" data-reply-id="{{ reply.id }}">Editar</button>
                                                                                                <button class="btn btn-sm btn-outline-danger delete-reply-btn" data-reply-id="{{ reply.id }}">Excluir</button>
                                                                                            </div>
                                                                                        {% endif %}
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        {% endfor %}
                                                                    {% endif %}
                                                                    <!-- Formul√°rio para Respostas -->
                                                                    <form class="reply-form mt-2" data-comment-id="{{ comment.id }}" style="display: none;">
                                                                        <textarea class="form-control" name="reply_content" placeholder="Escreva sua resposta..." required></textarea>
                                                                        <button type="submit" class="btn btn-sm btn-primary mt-1">Enviar Resposta</button>
                                                                        <button type="button" class="btn btn-sm btn-secondary mt-1 cancel-reply-btn">Cancelar</button>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    {% endfor %}
                                                    <a href="{{ url_for('post_comments', post_id=post.id) }}" class="small text-muted ms-3">Ver todos os coment√°rios</a>
                                                {% else %}
                                                    <p class="text-muted small ms-3">Nenhum coment√°rio ainda.</p>
                                                {% endif %}
                                                <!-- Formul√°rio para Coment√°rios -->
                                                <form class="comment-form ms-3 mt-2" data-post-id="{{ post.id }}">
                                                    <textarea class="form-control" name="comment_content" placeholder="Escreva seu coment√°rio..." required></textarea>
                                                    <button type="submit" class="btn btn-sm btn-primary mt-1">Comentar</button>
                                                </form>
                                            </div>
                                        </div>
                                    {% endfor %}
                                {% else %}
                                    <div class="empty-state-card">
                                        <div class="text-center py-3">
                                            <i class="fas fa-file-alt fa-2x mb-2 text-muted"></i>
                                            <p class="text-muted">Nenhuma postagem encontrada.</p>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-star"></i> Recomendados</h3>
                                <a href="{{ url_for('materiais') }}" class="see-all-link">Ver tudo</a>
                            </div>
                            <div class="resource-item">
                                <a href="https://www.w3schools.com/python/python_intro.asp" class="text-decoration-none">
                                    <h4 class="resource-title">Python Tutorial - W3Schools</h4>
                                    <div class="resource-meta">
                                        <span><i class="fas fa-book"></i> Tutorial Online</span>
                                        <span><i class="fas fa-clock"></i> 20 min</span>
                                    </div>
                                    <span class="resource-category">Programa√ß√£o</span>
                                </a>
                            </div>
                            <div class="resource-item">
                                <a href="https://www.youtube.com/watch?v=rfscVS0vtbw" class="text-decoration-none">
                                    <h4 class="resource-title">Learn Python - Full Course for Beginners</h4>
                                    <div class="resource-meta">
                                        <span><i class="fas fa-video"></i> V√≠deo</span>
                                        <span><i class="fas fa-clock"></i> 4h 26m</span>
                                    </div>
                                    <span class="resource-category">Programa√ß√£o</span>
                                </a>
                            </div>
                            <div class="resource-item">
                                <a href="https://www.postgresql.org/docs/current/tutorial.html" class="text-decoration-none">
                                    <h4 class="resource-title">PostgreSQL Tutorial</h4>
                                    <div class="resource-meta">
                                        <span><i class="fas fa-file-alt"></i> Documenta√ß√£o</span>
                                        <span><i class="fas fa-clock"></i> 30 min</span>
                                    </div>
                                    <span class="resource-category">Banco de Dados</span>
                                </a>
                            </div>
                        </div>
                        
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-code"></i> Exemplo de C√≥digo</h3>
                                <a href="/codigo" class="see-all-link">Ver mais</a>
                            </div>
                            <div class="code-container">
                                <div class="code-preview">
                                    <h4>1. Python: Jogo de Adivinha√ß√£o</h4>
                                    <pre>
{% raw %}
# Python: Jogo de Adivinha√ß√£o
import random
numero_secreto = random.randint(1, 100)
tentativas = 0
while True:
    palpite = int(input("Adivinhe o n√∫mero (1-100): "))
    tentativas += 1
    if palpite == numero_secreto:
        print(f"Parab√©ns! Voc√™ acertou em {tentativas} tentativas!")
        break
    elif palpite < numero_secreto:
        print("Tente um n√∫mero maior!")
    else:
        print("Tente um n√∫mero menor!")
{% endraw %}
                                    </pre>
                                </div>

                                <div class="code-preview">
                                    <h4>2. JavaScript: Jogo de Mem√≥ria</h4>
                                    <pre>
{% raw %}
// JavaScript: Jogo de Mem√≥ria (in√≠cio)
const cards = ['A', 'A', 'B', 'B', 'C', 'C'];
let flippedCards = [];
function flipCard(card) {
    if (flippedCards.length < 2 && !flippedCards.includes(card)) {
        card.classList.add('flipped');
        flippedCards.push(card);
        if (flippedCards.length === 2) {
            setTimeout(checkMatch, 1000);
        }
    }
}
function checkMatch() {
    const [card1, card2] = flippedCards;
    if (card1.dataset.value === card2.dataset.value) {
        card1.classList.add('matched');
        card2.classList.add('matched');
    } else {
        card1.classList.remove('flipped');
        card2.classList.remove('flipped');
    }
    flippedCards = [];
}
{% endraw %}
                                    </pre>
                                </div>

                                <div class="code-preview">
                                    <h4>3. Java: Jogo da Velha</h4>
                                    <pre>
{% raw %}
// Java: Jogo da Velha (trecho)
public class TicTacToe {
    private char[][] board = {{' ', ' ', ' '}, {' ', ' ', ' '}, {' ', ' ', ' '}};
    public boolean makeMove(int row, int col, char player) {
        if (row >= 0 && row < 3 && col >= 0 && col < 3 && board[row][col] == ' ') {
            board[row][col] = player;
            return true;
        }
        return false;
    }
    public boolean checkWin(char player) {
        for (int i = 0; i < 3; i++) {
            if (board[i][0] == player && board[i][1] == player && board[i][2] == player) return true;
            if (board[0][i] == player && board[1][i] == player && board[2][i] == player) return true;
        }
        if (board[0][0] == player && board[1][1] == player && board[2][2] == player) return true;
        if (board[0][2] == player && board[1][1] == player && board[2][0] == player) return true;
        return false;
    }
}
{% endraw %}
                                    </pre>
                                </div>

                                <div class="code-preview">
                                    <h4>4. C++: Jogo de Snake</h4>
                                    <pre>
{% raw %}
// C++: Jogo de Snake (trecho)
#include <vector>
#include <conio.h>
struct Point { int x, y; };
class Snake {
    std::vector<Point> body;
    Point food;
    char direction = 'R';
public:
    Snake() { body.push_back({10, 10}); generateFood(); }
    void generateFood() {
        food.x = rand() % 20; food.y = rand() % 20;
    }
    void move() {
        Point head = body[0];
        if (direction == 'R') head.x++;
        else if (direction == 'L') head.x--;
        else if (direction == 'U') head.y--;
        else if (direction == 'D') head.y++;
        body.insert(body.begin(), head);
        if (head.x == food.x && head.y == food.y) generateFood();
        else body.pop_back();
    }
};
{% endraw %}
                                    </pre>
                                </div>
                            </div>
                            <div class="text-end">
                                <a href="/codigo" class="btn btn-sm btn-outline-primary">Ver mais exemplos</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Learning Resources -->
            <section class="dashboard-section">
                <h3 class="section-title mb-4">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Recursos de Aprendizado</span>
                </h3>
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-video"></i> V√≠deos em Destaque</h3>
                                <a href="{{ url_for('videos') }}" class="see-all-link">Ver todos</a>
                            </div>
                            <div class="video-thumbnail">
                                <img src="https://img.youtube.com/vi/-l4Aa8wef8s/hqdefault.jpg" alt="Thumbnail do v√≠deo">
                                <div class="video-play-icon">
                                    <i class="fas fa-play"></i>
                                </div>
                            </div>
                            <h4 class="resource-title">Aprenda Git e Github em 5 minutos</h4>
                            <div class="resource-meta">
                                <span><i class="fas fa-clock"></i> 4:57</span>
                                <span><i class="fas fa-eye"></i> 11.5K</span>
                            </div>
                            <span class="resource-category">Versionamento</span>
                        </div>
                    </div>
                    
                    <div class="col-md-6 mb-4">
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-book"></i> Materiais Recentes</h3>
                                <a href="{{ url_for('materiais') }}" class="see-all-link">Ver todos</a>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Guia Completo de HTML5 e CSS3</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-file-pdf"></i> PDF</span>
                                    <span><i class="fas fa-clock"></i> 45 min</span>
                                </div>
                                <span class="resource-category">Front-end</span>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Exerc√≠cios de L√≥gica de Programa√ß√£o</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-file-alt"></i> Apostila</span>
                                    <span><i class="fas fa-clock"></i> 30 min</span>
                                </div>
                                <span class="resource-category">L√≥gica</span>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Introdu√ß√£o √† Intelig√™ncia Artificial</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-file-pdf"></i> PDF</span>
                                    <span><i class="fas fa-clock"></i> 25 min</span>
                                </div>
                                <span class="resource-category">IA</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Community Highlights -->
            <section class="dashboard-section">
                <h3 class="section-title mb-4">
                    <i class="fas fa-users"></i>
                    <span>Destaques da Comunidade</span>
                </h3>
                <div class="row">
                    <div class="col-md-4 mb-4">
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-trophy"></i> Top Contribuidores</h3>
                            </div>
                            <div class="resource-item">
                                <div class="d-flex align-items-center">
                                    <div class="avatar me-3">
                                        <div class="avatar-initials bg-primary text-white rounded-circle d-flex justify-content-center align-items-center">
                                            J
                                        </div>
                                    </div>
                                    <div>
                                        <h5 class="mb-0">Jo√£o Silva</h5>
                                        <small class="text-muted">15 contribui√ß√µes</small>
                                    </div>
                                </div>
                            </div>
                            <div class="resource-item">
                                <div class="d-flex align-items-center">
                                    <div class="avatar me-3">
                                        <div class="avatar-initials bg-success text-white rounded-circle d-flex justify-content-center align-items-center">
                                            M
                                        </div>
                                    </div>
                                    <div>
                                        <h5 class="mb-0">Maria Oliveira</h5>
                                        <small class="text-muted">12 contribui√ß√µes</small>
                                    </div>
                                </div>
                            </div>
                            <div class="resource-item">
                                <div class="d-flex align-items-center">
                                    <div class="avatar me-3">
                                        <div class="avatar-initials bg-warning text-white rounded-circle d-flex justify-content-center align-items-center">
                                            P
                                        </div>
                                    </div>
                                    <div>
                                        <h5 class="mb-0">Pedro Santos</h5>
                                        <small class="text-muted">10 contribui√ß√µes</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-4">
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-fire"></i> T√≥picos Populares</h3>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Como resolver problemas de l√≥gica?</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-comment"></i> 24 respostas</span>
                                    <span><i class="fas fa-heart"></i> 45</span>
                                </div>
                                <span class="resource-category">L√≥gica</span>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">D√∫vida sobre modelagem de banco</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-comment"></i> 15 respostas</span>
                                    <span><i class="fas fa-heart"></i> 32</span>
                                </div>
                                <span class="resource-category">Banco de Dados</span>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Melhor linguagem para iniciantes</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-comment"></i> 38 respostas</span>
                                    <span><i class="fas fa-heart"></i> 56</span>
                                </div>
                                <span class="resource-category">D√∫vidas Gerais</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4 mb-4">
                        <div class="dashboard-card">
                            <div class="dashboard-card-header">
                                <h3 class="dashboard-card-title"><i class="fas fa-calendar"></i> Eventos</h3>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Workshop de Git e GitHub</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-clock"></i> 15/06 - 19h</span>
                                    <span><i class="fas fa-user"></i> 45 participantes</span>
                                </div>
                                <span class="resource-category">Versionamento</span>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Live: Carreira em TI</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-clock"></i> 20/06 - 20h</span>
                                    <span><i class="fas fa-user"></i> 82 participantes</span>
                                </div>
                                <span class="resource-category">Carreiras</span>
                            </div>
                            <div class="resource-item">
                                <h4 class="resource-title">Desafio de L√≥gica Semanal</h4>
                                <div class="resource-meta">
                                    <span><i class="fas fa-clock"></i> Todo domingo</span>
                                    <span><i class="fas fa-user"></i> 120 participantes</span>
                                </div>
                                <span class="resource-category">L√≥gica</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Footer -->
    {% include 'footer.html' %}

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/telainicial.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
    <script>
        // Fun√ß√µes para manipular curtidas, coment√°rios, respostas, edi√ß√£o e exclus√£o
        document.addEventListener('DOMContentLoaded', () => {
            // Manipular curtidas de coment√°rios
            document.querySelectorAll('.like-btn-comment').forEach(button => {
                button.addEventListener('click', async () => {
                    const commentId = button.dataset.commentId;
                    try {
                        const response = await fetch(`/like_comment/${commentId}`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' }
                        });
                        const data = await response.json();
                        if (data.status === 'success') {
                            const likeCountSpan = button.querySelector('.like-count');
                            likeCountSpan.textContent = data.like_count;
                            button.classList.toggle('btn-primary', data.liked);
                            button.classList.toggle('btn-outline-primary', !data.liked);
                            alert(data.message);
                        } else {
                            alert(data.message);
                        }
                    } catch (error) {
                        console.error('Erro ao curtir coment√°rio:', error);
                        alert('Erro ao curtir coment√°rio.');
                    }
                });
            });

            // Manipular envio de coment√°rios
            document.querySelectorAll('.comment-form').forEach(form => {
                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const postId = form.dataset.postId;
                    const content = form.querySelector('textarea[name="comment_content"]').value;
                    try {
                        const response = await fetch(`/comment/${postId}`, {
                            method: 'POST',
                            body: new FormData(form)
                        });
                        const data = await response.json();
                        if (data.status === 'success') {
                            alert('Coment√°rio adicionado com sucesso!');
                            window.location.reload(); // Recarrega para mostrar o novo coment√°rio
                        } else {
                            alert(data.message);
                        }
                    } catch (error) {
                        console.error('Erro ao adicionar coment√°rio:', error);
                        alert('Erro ao adicionar coment√°rio.');
                    }
                });
            });

            // Manipular envio de respostas
            document.querySelectorAll('.reply-form').forEach(form => {
                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const commentId = form.dataset.commentId;
                    const content = form.querySelector('textarea[name="reply_content"]').value;
                    try {
                        const response = await fetch(`/reply/${commentId}`, {
                            method: 'POST',
                            body: new FormData(form)
                        });
                        const data = await response.json();
                        if (data.status === 'success') {
                            alert('Resposta adicionada com sucesso!');
                            window.location.reload(); // Recarrega para mostrar a nova resposta
                        } else {
                            alert(data.message);
                        }
                    } catch (error) {
                        console.error('Erro ao adicionar resposta:', error);
                        alert('Erro ao adicionar resposta.');
                    }
                });
            });

            // Mostrar/esconder formul√°rio de resposta
            document.querySelectorAll('.like-btn-comment').forEach(button => {
                button.addEventListener('click', (e) => {
                    const commentId = button.dataset.commentId;
                    const replyForm = document.querySelector(`.reply-form[data-comment-id="${commentId}"]`);
                    if (replyForm) {
                        replyForm.style.display = replyForm.style.display === 'none' ? 'block' : 'none';
                    }
                });
            });

            // Cancelar resposta
            document.querySelectorAll('.cancel-reply-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const form = button.closest('.reply-form');
                    form.style.display = 'none';
                    form.querySelector('textarea').value = '';
                });
            });

            // Manipular edi√ß√£o de coment√°rios
            document.querySelectorAll('.edit-comment-btn').forEach(button => {
                button.addEventListener('click', async () => {
                    const commentId = button.dataset.commentId;
                    const commentCard = button.closest('.comment-card');
                    const contentP = commentCard.querySelector('p.mb-1');
                    const currentContent = contentP.textContent;
                    const newContent = prompt('Editar coment√°rio:', currentContent);
                    if (newContent && newContent.trim()) {
                        try {
                            const response = await fetch(`/edit_comment/${commentId}`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                                body: `edit_comment_content=${encodeURIComponent(newContent)}`
                            });
                            const data = await response.json();
                            if (data.status === 'success') {
                                contentP.textContent = data.content;
                                alert(data.message);
                            } else {
                                alert(data.message);
                            }
                        } catch (error) {
                            console.error('Erro ao editar coment√°rio:', error);
                            alert('Erro ao editar coment√°rio.');
                        }
                    }
                });
            });

            // Manipular exclus√£o de coment√°rios
            document.querySelectorAll('.delete-comment-btn').forEach(button => {
                button.addEventListener('click', async () => {
                    if (confirm('Tem certeza que deseja excluir este coment√°rio?')) {
                        const commentId = button.dataset.commentId;
                        try {
                            const response = await fetch(`/delete_comment/${commentId}`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' }
                            });
                            const data = await response.json();
                            if (data.status === 'success') {
                                button.closest('.comment-card').remove();
                                alert(data.message);
                            } else {
                                alert(data.message);
                            }
                        } catch (error) {
                            console.error('Erro ao excluir coment√°rio:', error);
                            alert('Erro ao excluir coment√°rio.');
                        }
                    }
                });
            });

            // Manipular edi√ß√£o de respostas
            document.querySelectorAll('.edit-reply-btn').forEach(button => {
                button.addEventListener('click', async () => {
                    const replyId = button.dataset.replyId;
                    const replyCard = button.closest('.reply-card');
                    const contentP = replyCard.querySelector('p.mb-1');
                    const currentContent = contentP.textContent;
                    const newContent = prompt('Editar resposta:', currentContent);
                    if (newContent && newContent.trim()) {
                        try {
                            const response = await fetch(`/edit_reply/${replyId}`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                                body: `edit_reply_content=${encodeURIComponent(newContent)}`
                            });
                            const data = await response.json();
                            if (data.status === 'success') {
                                contentP.textContent = data.content;
                                alert(data.message);
                            } else {
                                alert(data.message);
                            }
                        } catch (error) {
                            console.error('Erro ao editar resposta:', error);
                            alert('Erro ao editar resposta.');
                        }
                    }
                });
            });

            // Manipular exclus√£o de respostas
            document.querySelectorAll('.delete-reply-btn').forEach(button => {
                button.addEventListener('click', async () => {
                    if (confirm('Tem certeza que deseja excluir esta resposta?')) {
                        const replyId = button.dataset.replyId;
                        try {
                            const response = await fetch(`/delete_reply/${replyId}`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' }
                            });
                            const data = await response.json();
                            if (data.status === 'success') {
                                button.closest('.reply-card').remove();
                                alert(data.message);
                            } else {
                                alert(data.message);
                            }
                        } catch (error) {
                            console.error('Erro ao excluir resposta:', error);
                            alert('Erro ao excluir resposta.');
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>